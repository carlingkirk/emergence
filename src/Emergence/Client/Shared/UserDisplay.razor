@using Emergence.Data.Shared.Models
@using Emergence.Data.Shared

@if (!string.IsNullOrEmpty(Label))
{
    <div>
        <label for="user">@Label</label>
    </div>
}
<div>
    <a href="/user/@(User.DisplayName)">
        @if (!string.IsNullOrEmpty(User.PhotoThumbnailUri))
        {
            <img src="@(User.PhotoThumbnailUri)" alt="Profile photo of @(User.DisplayName)" class="shadow-sm align-center avatar" />
        }
        else
        {
            <svg xmlns="http://www.w3.org/2000/svg" width="@Size" height="@Size" viewBox="0 0 @Size @Size" class="shadow-sm align-center avatar">
                <rect fill="#A9A074" width="@Size" height="@Size" />
            </svg>
        }
        <span class="text-body" id="user">@(User.DisplayName)</span>
    </a>
</div>

@code {
    [Parameter]
    public UserSummary User { get; set; }

    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public int? Size { get; set; }

    protected override void OnInitialized()
    {
        if (!Size.HasValue)
        {
            Size = 45;
        }

        base.OnInitialized();
    }
}
